---
import { getEntries } from 'astro:content';
import { type GlossaryRef } from '../scripts/glossary';
import Ref from './Ref.astro';
import Keyword from './syntax/Keyword.astro';
import ScopeInline from './ScopeInline.astro';

interface Props {
    list: GlossaryRef[];
    onPage?: true;
}

const { list, onPage } = Astro.props;
const types = await getEntries(list);
---

{() => {
    const inner = <><Ref item={types[0]} onPage={onPage}/>{types.slice(1).map((ty) => <>&nbsp;<Keyword tkn="type union"/>&nbsp;<Ref item={ty} onPage={onPage}/></>)}</>;
    return list.length > 1
        ? <ScopeInline delim="()">{inner}</ScopeInline>
        : inner;
}}
